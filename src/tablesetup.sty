% ===========================
% ðŸ“ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¼Ð¾Ð´ÑƒÐ»Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ† (Ð“ÐžÐ¡Ð¢ + memoir)
% ===========================
% Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ Ñ memoir, Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ caption, ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð“ÐžÐ¡Ð¢ 2.105-95

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tablesetup}[2025/10/25 GOST-compliant tables for memoir]

% Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹
\RequirePackage{array}       % Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ðµ ÑÑ‚Ð¾Ð»Ð±Ñ†Ñ‹ (>{...}, <{...})
%\RequirePackage{tabularx}    % ÐÐ²Ñ‚Ð¾ÑˆÐ¸Ñ€Ð¸Ð½Ð° ÑÑ‚Ð¾Ð»Ð±Ñ†Ð¾Ð² â† ÐÐ• ÐÐ£Ð–ÐÐž, ÑƒÐ¶Ðµ Ð² xltabular
\RequirePackage{booktabs}    % ÐšÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð»Ð¸Ð½Ð¸Ð¸: \toprule, \midrule, \bottomrule
\RequirePackage{dcolumn}     % Ð’Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ð´ÐµÑÑÑ‚Ð¸Ñ‡Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐµ
\RequirePackage{multirow}    % ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ ÑÑ‡ÐµÐµÐº Ð¿Ð¾ Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»Ð¸
\RequirePackage{makecell}    % ÐŸÐµÑ€ÐµÐ½Ð¾ÑÑ‹ Ð² ÑÑ‡ÐµÐ¹ÐºÐ°Ñ…: \makecell, \thead
\RequirePackage{xltabular}   % longtable + tabularx Ð´Ð»Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ð½Ð° Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†
% Ð­Ñ‚Ð¾Ñ‚ Ð¿Ð°ÐºÐµÑ‚ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð² ÑÐµÐ±Ñ \RequirePackage{longtable} Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ  Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð´Ð¾
% Ñ‚Ð°Ðº ÐºÐ°Ðº ÑƒÐ¶Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½ Ñ‡ÐµÑ€ÐµÐ· xltabular

% ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ð¾Ð´ Ð“ÐžÐ¡Ð¢:
% - ÐÐµÑ‚ Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð»Ð¸Ð½Ð¸Ð¹,
% - Ð¢Ð¾Ð»ÑŒÐºÐ¾ \toprule, \midrule, \bottomrule,
% - ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ¸ ÑÐ²ÐµÑ€Ñ…Ñƒ (ÐºÐ°Ðº Ð² Ð“ÐžÐ¡Ð¢).

% ======================================================================
% ðŸ“ ÐÐ»ÑŒÐ±Ð¾Ð¼Ð½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
% ======================================================================
% Ð”Ð»Ñ Ð¿Ð¾Ð²Ð¾Ñ€Ð¾Ñ‚Ð° Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ñ‚Ð°Ð±Ð»Ð¸Ñ† (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÐºÐ½Ð¸Ð³)
\RequirePackage{rotating} % ÐÐ»ÑŒÐ±Ð¾Ð¼Ð½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð¸ Ñ€Ð¸ÑÑƒÐ½ÐºÐ¸ â† ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž!

% ======================================================================
% ðŸ“ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¿Ð¾Ð´Ð¿Ð¸ÑÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· memoir (Ð“ÐžÐ¡Ð¢-ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾)
% ======================================================================
% Ð“ÐžÐ¡Ð¢ 2.105-95: "Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° 1. ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" (Ñ‚Ð¾Ñ‡ÐºÐ° + Ð¿Ñ€Ð¾Ð±ÐµÐ»)
% Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ¸ Ñ‡ÐµÑ€ÐµÐ· memoir (ÐÐ• Ñ‡ÐµÑ€ÐµÐ· caption!)
% Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ: Ñ‚Ð¾Ñ‡ÐºÐ° + Ð¿Ñ€Ð¾Ð±ÐµÐ» (Ð“ÐžÐ¡Ð¢!)
\captiondelim{. }           % Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð¼ÐµÐ¶Ð´Ñƒ "Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° N" Ð¸ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼
\captionnamefont{\bfseries} % "Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° 1" â€” Ð¶Ð¸Ñ€Ð½Ñ‹Ð¼
\captiontitlefont{\normalfont} % Ð¢ÐµÐºÑÑ‚ â€” Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼ ÑˆÑ€Ð¸Ñ„Ñ‚Ð¾Ð¼
\captionstyle{\centering}   % ÐŸÐ¾Ð´Ð¿Ð¸ÑÑŒ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ (Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð½Ð° \raggedright)

% ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ (Ð»Ð°Ñ‚Ð¸Ð½Ð¸Ñ†Ð° Ð´Ð»Ñ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸)
\newcommand{\newrow}{\tabularnewline\midrule} % ÐÐ¾Ð²Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° + Ð»Ð¸Ð½Ð¸Ñ
\newcommand{\topcaption}[1]{\caption{#1}\vspace{6pt}} % ÐŸÐ¾Ð´Ð¿Ð¸ÑÑŒ ÑÐ²ÐµÑ€Ñ…Ñƒ

%Ð­Ñ‚Ð¾Ñ‚ Ð±Ð»Ð¾Ðº Ð¿ÐµÑ€ÐµÐ½ÐµÑÐµÐ½ Ð¸Ð· graphicssetup
% Ð”Ð»Ñ Ð°Ð»ÑŒÐ±Ð¾Ð¼Ð½Ñ‹Ñ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†:
%   \usepackage{rotating}      % â†’ \begin{sidewaystable}...\end{sidewaystable}
%   \usepackage{longtable}     % â†’ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð½Ð° Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†

% Ð”Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ð°Ð»ÑŒÐ±Ð¾Ð¼Ð° (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð² .tex Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸)
% \RequirePackage{pdflscape}  % â† ÐÐ• Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ

% Ð£Ð´Ð¾Ð±Ð½Ñ‹Ðµ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñ‹
\newenvironment{albtable}[1][]{%
  \begin{sidewaystable}[ht]%
    \centering%
    \ifx&#1&\else\caption{#1}\fi%
  }{%
  \end{sidewaystable}%
}

% sidewaystable Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
% Ð¿Ð¾Ð²Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ,
% Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð½Ð¾Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¼,
% ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼ Ñ hyperref Ð¸ memoir.

% ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ:
% \begin{albtable}[Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð²]
%   \begin{xltabular}{\textheight}{lX}
%     \toprule
%     ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ & Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ \\
%     \midrule
%     Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° & 25\,\si{\celsius} \\
%     % ... Ð¼Ð½Ð¾Ð³Ð¾ ÑÑ‚Ñ€Ð¾Ðº ...
%     \bottomrule
%   \end{xltabular}
% \end{albtable}

% ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹:
% \begin{table}[ht]
%   \centering
%   \topcaption{ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð¿Ð¾ Ð“ÐžÐ¡Ð¢}
%   \begin{tabularx}{\textwidth}{XX}
%     \toprule
%     ÐšÐ¾Ð»Ð¾Ð½ÐºÐ° 1 & ÐšÐ¾Ð»Ð¾Ð½ÐºÐ° 2 \\
%     \midrule
%     Ð”Ð°Ð½Ð½Ñ‹Ðµ & Ð”Ð°Ð½Ð½Ñ‹Ðµ \\
%     \newrow
%     Ð•Ñ‰Ñ‘ Ð´Ð°Ð½Ð½Ñ‹Ðµ & Ð•Ñ‰Ñ‘ Ð´Ð°Ð½Ð½Ñ‹Ðµ \\
%     \bottomrule
%   \end{tabularx}
% \end{table}

% ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ:
% \begin{table}[ht]
%   \centering
%   \caption{Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ ÑˆÑ€Ð¸Ñ„Ñ‚Ð¾Ð²}
%   \begin{tabularx}{\textwidth}{lX}
%     \toprule
%     Ð¨Ñ€Ð¸Ñ„Ñ‚ & ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ \\
%     \midrule
%     Times New Roman & Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð´Ð»Ñ Ð“ÐžÐ¡Ð¢ \\
%     \newrow
%     Liberation & Ð¡Ð²Ð¾Ð±Ð¾Ð´Ð½Ð°Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° \\
%     \bottomrule
%   \end{tabularx}
% \end{table}

% Ð”Ð»Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ð½Ð° Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†:
% \begin{xltabular}{\textwidth}{lX}
%   \caption{Ð”Ð»Ð¸Ð½Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°} \\
%   \toprule
%   ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ & Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ \\
%   \midrule
%   \endfirsthead
%
%   \multicolumn{2}{c}{{\bfseries ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹}} \\
%   \toprule
%   ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ & Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ \\
%   \midrule
%   \endhead
%
%   \bottomrule
%   \endlastfoot
%
%   Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° & 25\,\si{\celsius} \\
%   % ... Ð¼Ð½Ð¾Ð³Ð¾ ÑÑ‚Ñ€Ð¾Ðº ...
% \end{xltabular}

\endinput
