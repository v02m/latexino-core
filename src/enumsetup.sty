% ===========================
% üî¢ –ì–û–°–¢-–û–§–û–†–ú–õ–ï–ù–ò–ï –°–ü–ò–°–ö–û–í (–° –ü–†–û–§–ò–õ–Ø–ú–ò)
% ===========================
% –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π: gost, numeric, mixed, alpha
% –¢—Ä–µ–±—É–µ—Ç: polyglossia (–¥–ª—è \asbuk), enumitem

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{enumsetup}[2025/10/24 GOST-compliant lists with profiles]

\RequirePackage[shortlabels]{enumitem}

% ======================================================================
% üá∑üá∫ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–∏ (asbuk)
% ======================================================================
% \asbuk ‚Äî –∞–Ω–∞–ª–æ–≥ \alph, –Ω–æ –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã: –∞, –±, –≤, ..., —â
% –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã polyglossia —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª \russian@alph
\makeatletter
\providecommand{\asbuk}[1]{\expandafter\russian@alph\csname c@#1\endcsname}
\AddEnumerateCounter{\asbuk}{\russian@alph}{—â}
\makeatother

% ======================================================================
% üìã –ü–†–û–§–ò–õ–ò –°–ü–ò–°–ö–û–í
% ======================================================================
% –í—Å–µ —Ñ–ª–∞–≥–∏ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ xememoir.sty
% –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ñ–ª–∞–≥
\makeatletter
\@ifundefined{ifliststyle@gost}{
  % –§–ª–∞–≥–∏ –ù–ï –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º gost –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
\setlist[enumerate,1]{label=\asbuk*.), ref=\asbuk*}
\setlist[enumerate,2]{label=\arabic*.), ref=\arabic*}
\setlist[enumerate,3]{label=\arabic*.), ref=\arabic*}
}{
% –§–ª–∞–≥–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö
% ======================================================================
% üìã –ü–†–û–§–ò–õ–¨: GOST ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ì–û–°–¢ 2.105-95
% ======================================================================
% 1-–π —É—Ä–æ–≤–µ–Ω—å: –∞), –±), –≤)
% 2-–π —É—Ä–æ–≤–µ–Ω—å: 1), 2), 3)
% 3-–π —É—Ä–æ–≤–µ–Ω—å: 1), 2), 3)
\ifliststyle@gost
\setlist[enumerate,1]{label=\asbuk*.), ref=\asbuk*}
\setlist[enumerate,2]{label=\arabic*.), ref=\arabic*}
\setlist[enumerate,3]{label=\arabic*.), ref=\arabic*}
% ======================================================================
% üìã –ü–†–û–§–ò–õ–¨: NUMERIC ‚Äî –≤—Å–µ —É—Ä–æ–≤–Ω–∏ —Ü–∏—Ñ—Ä–æ–≤—ã–µ
% ======================================================================
% 1) ‚Üí 1.1) ‚Üí 1.1.1)
\else\ifliststyle@numeric
\setlist[enumerate,1]{label=\arabic*.), ref=\arabic*}
\setlist[enumerate,2]{label=\arabic{enumi}.\arabic*.), ref=\arabic{enumi}.\arabic*}
\setlist[enumerate,3]{label=\arabic{enumi}.\arabic{enumii}.\arabic*.), ref=\arabic{enumi}.\arabic{enumii}.\arabic*}
% ======================================================================
% üìã –ü–†–û–§–ò–õ–¨: MIXED ‚Äî —Ü–∏—Ñ—Ä—ã ‚Üí –±—É–∫–≤—ã ‚Üí –ª–∞—Ç–∏–Ω–∏—Ü–∞
% ======================================================================
% 1) ‚Üí –∞) ‚Üí A)
\else\ifliststyle@mixed
\setlist[enumerate,1]{label=\arabic*.), ref=\arabic*}
\setlist[enumerate,2]{label=\asbuk*.), ref=\asbuk*}
\setlist[enumerate,3]{label=\Alph*.), ref=\Alph*}
% ======================================================================
% üìã –ü–†–û–§–ò–õ–¨: ALPHA ‚Äî –ª–∞—Ç–∏–Ω–∏—Ü–∞ ‚Üí —Ü–∏—Ñ—Ä—ã ‚Üí –±—É–∫–≤—ã
% ======================================================================
% a) ‚Üí 1) ‚Üí –∞)
\else\ifliststyle@alpha
\setlist[enumerate,1]{label=\alph*.), ref=\alph*}
\setlist[enumerate,2]{label=\arabic*.), ref=\arabic*}
\setlist[enumerate,3]{label=\asbuk*.), ref=\asbuk*}
\else
% Fallback: gost
\setlist[enumerate,1]{label=\asbuk*.), ref=\asbuk*}
\setlist[enumerate,2]{label=\arabic*.), ref=\arabic*}
\setlist[enumerate,3]{label=\arabic*.), ref=\arabic*}
\fi\fi\fi\fi
}
\makeatother
% ======================================================================
% üîò –ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π (–ì–û–°–¢)
% ======================================================================
\setlist[itemize,1]{label=\normalfont\rmfamily\textemdash} % ‚Äî
\setlist[itemize,2]{label=\normalfont\rmfamily--}          % --
\setlist[itemize,3]{label=\normalfont\rmfamily*}           % *
\setlist[itemize,4]{label=\normalfont\rmfamily\textperiodcentered}

% ======================================================================
% üìè –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å + –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
% ======================================================================
\setlist{
nosep,              % –ë–µ–∑ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –æ—Ç—Å—Ç—É–ø–æ–≤ –º–µ–∂–¥—É –ø—É–Ω–∫—Ç–∞–º–∏
labelindent=\parindent, % –û—Ç—Å—Ç—É–ø –º–∞—Ä–∫–µ—Ä–∞ = –∞–±–∑–∞—Ü–Ω–æ–º—É –æ—Ç—Å—Ç—É–ø—É
leftmargin=*,       % –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —à–∏—Ä–∏–Ω–µ –º–µ—Ç–∫–∏
align=left          % –ú–µ—Ç–∫–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é
}

% üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
% - –í—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç \asbuk –¥–ª—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã (—Ç—Ä–µ–±—É–µ—Ç polyglossia).
% - –î–ª—è —Å—Å—ã–ª–æ–∫ (\ref) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ –∂–µ —Å—á—ë—Ç—á–∏–∫–∏, —á—Ç–æ –∏ –≤ label.
% - –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å: —Å–∫–æ–ø–∏—Ä—É–π –±–ª–æ–∫ –∏ –∑–∞–¥–∞–π —Å–≤–æ—é –ª–æ–≥–∏–∫—É.

\makeatletter
\ifliststyle@gost \typeout{DEBUG: liststyle=gost}\fi
\ifliststyle@mixed \typeout{DEBUG: liststyle=mixed}\fi
\makeatother

\endinput